<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <title>Admin - Everglow Design</title>
    <link rel="stylesheet" href="../assets/style.css">
    <style>
        body { padding: 20px; max-width: 800px; margin: 0 auto; }
        .tab-buttons { display: flex; gap: 10px; margin-bottom: 20px; }
        .tab-buttons button { padding: 10px 20px; cursor: pointer; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; font-weight: bold; margin-bottom: 5px; }
        .form-group input, .form-group textarea { width: 100%; padding: 8px; }
        textarea { min-height: 200px; font-family: monospace; }
        .output { background: #f5f5f5; padding: 15px; margin-top: 20px; border-radius: 4px; }
        .output pre { white-space: pre-wrap; }
        button { background: #3498db; color: white; border: none; padding: 10px 20px; cursor: pointer; border-radius: 4px; }
        button:hover { background: #2980b9; }
    </style>
</head>
<body>
    <h1>Everglow Design - Admin</h1>
    
    <div class="tab-buttons">
        <button onclick="showTab('blog')">Ny Blog Post</button>
        <button onclick="showTab('case')">Ny Case</button>
    </div>

    <div id="blogTab" class="tab-content active">
        <h2>Opret Ny Blog Post</h2>
        <div class="form-group">
            <label>Titel:</label>
            <input type="text" id="blogTitle">
        </div>
        <div class="form-group">
            <label>Billede (fx: images/blog5.jpg):</label>
            <input type="text" id="blogImage">
        </div>
        <div class="form-group">
            <label>Kort beskrivelse:</label>
            <textarea id="blogExcerpt" rows="3"></textarea>
        </div>
        <div class="form-group">
            <label>Fuldt indhold:</label>
            <textarea id="blogContent"></textarea>
        </div>
        <button onclick="generateBlog()">Generer HTML Fil</button>
        
        <div id="blogOutput" class="output" style="display:none">
            <h3>Fil: <span id="blogFilename"></span></h3>
            <p>Kopier koden nedenfor og gem som ny fil i /blog/ mappen</p>
            <button onclick="copyCode('blogCode')">Kopier Kode</button>
            <pre id="blogCode"></pre>
        </div>
    </div>

    <div id="caseTab" class="tab-content">
        <h2>Opret Ny Case</h2>
        <div class="form-group">
            <label>Titel:</label>
            <input type="text" id="caseTitle">
        </div>
        <div class="form-group">
            <label>Opgave:</label>
            <textarea id="caseTask" rows="3"></textarea>
        </div>
        <div class="form-group">
            <label>Resultat:</label>
            <textarea id="caseResult" rows="3"></textarea>
        </div>
        <div class="form-group">
            <label>Detaljeret beskrivelse:</label>
            <textarea id="caseDetails"></textarea>
        </div>
        <button onclick="generateCase()">Generer HTML Fil</button>
        
        <div id="caseOutput" class="output" style="display:none">
            <h3>Fil: <span id="caseFilename"></span></h3>
            <p>Kopier koden nedenfor og gem som ny fil i /cases/ mappen</p>
            <button onclick="copyCode('caseCode')">Kopier Kode</button>
            <pre id="caseCode"></pre>
        </div>
    </div>

    <script>
        function showTab(tab) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            if (tab === 'blog') {
                document.getElementById('blogTab').classList.add('active');
            } else {
                document.getElementById('caseTab').classList.add('active');
            }
        }

        function generateBlog() {
            const title = document.getElementById('blogTitle').value;
            const image = document.getElementById('blogImage').value;
            const excerpt = document.getElementById('blogExcerpt').value;
            const content = document.getElementById('blogContent').value;

            if (!title || !content) {
                alert('Udfyld mindst titel og indhold');
                return;
            }

            const slug = title.toLowerCase()
                .replace(/æ/g, 'ae').replace(/ø/g, 'oe').replace(/å/g, 'aa')
                .replace(/[^a-z0-9]+/g, '-').replace(/^-|-$/g, '');
            
            const filename = slug + '.html';
            const date = new Date().toLocaleDateString('da-DK');

            const html = `<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${title} - Everglow Design</title>
    <link rel="stylesheet" href="../assets/style.css">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="../index.html#home">Forside</a></li>
                <li><a href="../index.html#ydelser">Ydelser</a></li>
                <li><a href="../index.html#cases">Cases</a></li>
                <li><a href="../index.html#blog">Blog</a></li>
                <li><a href="../index.html#om-mig">Om Mig</a></li>
                <li><a href="../index.html#kontakt">Kontakt</a></li>
            </ul>
        </nav>
    </header>

    <main style="max-width: 800px; margin: 50px auto; padding: 20px;">
        <article>
            <h1>${title}</h1>
            <p style="color: #666; margin-bottom: 30px;">Publiceret: ${date}</p>
            ${image ? `<img src="../${image}" alt="${title}" style="width: 100%; border-radius: 8px; margin-bottom: 30px;">` : ''}
            <div style="line-height: 1.8;">
                ${content.split('\n').map(p => p.trim() ? `<p>${p}</p>` : '').join('\n                ')}
            </div>
        </article>
        <a href="../index.html#blog" style="display: inline-block; margin-top: 30px; color: #333; text-decoration: none;">&larr; Tilbage til blog</a>
    </main>

    <footer>
        <p>&copy; 2025 Everglow Design. Alle rettigheder forbeholdes.</p>
    </footer>

    <script src="../assets/script.js"></script>
</body>
</html>`;

            document.getElementById('blogFilename').textContent = filename;
            document.getElementById('blogCode').textContent = html;
            document.getElementById('blogOutput').style.display = 'block';
        }

        function generateCase() {
            const title = document.getElementById('caseTitle').value;
            const task = document.getElementById('caseTask').value;
            const result = document.getElementById('caseResult').value;
            const details = document.getElementById('caseDetails').value;

            if (!title || !task || !result) {
                alert('Udfyld mindst titel, opgave og resultat');
                return;
            }

            const slug = title.toLowerCase()
                .replace(/æ/g, 'ae').replace(/ø/g, 'oe').replace(/å/g, 'aa')
                .replace(/[^a-z0-9]+/g, '-').replace(/^-|-$/g, '');
            
            const filename = slug + '.html';

            const html = `<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${title} - Everglow Design</title>
    <link rel="stylesheet" href="../assets/style.css">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="../index.html#home">Forside</a></li>
                <li><a href="../index.html#ydelser">Ydelser</a></li>
                <li><a href="../index.html#cases">Cases</a></li>
                <li><a href="../index.html#blog">Blog</a></li>
                <li><a href="../index.html#om-mig">Om Mig</a></li>
                <li><a href="../index.html#kontakt">Kontakt</a></li>
            </ul>
        </nav>
    </header>

    <main style="max-width: 800px; margin: 50px auto; padding: 20px;">
        <article>
            <h1>${title}</h1>
            
            <section style="margin: 30px 0;">
                <h2>Opgave</h2>
                <p>${task}</p>
            </section>

            <section style="margin: 30px 0;">
                <h2>Resultat</h2>
                <p>${result}</p>
            </section>

            ${details ? `<section style="margin: 30px 0;">
                <h2>Detaljer</h2>
                <div style="line-height: 1.8;">
                    ${details.split('\n').map(p => p.trim() ? `<p>${p}</p>` : '').join('\n                    ')}
                </div>
            </section>` : ''}
        </article>
        <a href="../index.html#cases" style="display: inline-block; margin-top: 30px; color: #333; text-decoration: none;">&larr; Tilbage til cases</a>
    </main>

    <footer>
        <p>&copy; 2025 Everglow Design. Alle rettigheder forbeholdes.</p>
    </footer>

    <script src="../assets/script.js"></script>
</body>
</html>`;

            document.getElementById('caseFilename').textContent = filename;
            document.getElementById('caseCode').textContent = html;
            document.getElementById('caseOutput').style.display = 'block';
        }

        function copyCode(id) {
            const code = document.getElementById(id).textContent;
            navigator.clipboard.writeText(code).then(() => {
                alert('Kode kopieret! Opret en ny fil i VS Code og indsæt koden.');
            });
        }
    </script>
</body>
</html>
